<style>
  *{font-family:'微软雅黑','Microsoft YaHei','Helvetica Neue',Helvetica,Arial,sans-serif;}
  .willshow{display:none;}
  small{color:gray;font-size:.7em;}
  body{margin-top:20px;background-color:#eee;}
  p,li{margin-top:.7em;margin-left:100px;}
  button.bigbtn{height:35px;width:90px;}

  table{width:100%;}
  th{text-align:left;}
  table>thead>tr>th{vertical-align:bottom;line-height:2;border-bottom:2px solid #ddd;}
  table>tbody>tr>td{padding:8px;line-height:1.4;vertical-align:top;border-bottom:1px solid #ddd;}
</style>

<p class="willfade" style="font-size:1.3em;">
  <label for="url">目标：</label>
  <select id="url">
    <option value="/Elective/ElectiveCourse/SelectDirection.aspx" selected>SelectDirection</option>
    <option value="/Elective/ElectiveCourse/ElectiveCourse.aspx">ElectiveCourse</option>
    <option value="/Elective/ElectvieClass/ElectiveClass.aspx">ElectiveClass</option>
    <option value="/Elective/MyElective/MyElective.aspx">MyElective (我的选课结果)</option>
    <option value="/Elective/ElectivePreview/ElectivePreview.aspx">ElectivePreview (选课查看)</option>
  </select>
  &nbsp;
  <label for="wincount">并行抢课：</label>
  <input id="wincount" type="number" min="1" max="5" value="3">
  <small>(1-5)</small>
  &nbsp;
  <button id="startbtn" class="bigbtn">开始</button>
</p>

<p>
  <input id="timeout" type="checkbox" checked>
  <label for="timeout">超时自动刷新： </label>
  <input id="timeoutvalue" type="number" min="60" max="300" value="180">
  <label for="timeoutvalue">秒</label>
  <small>(60-300)</small>
</p>

<p>
  <input id="blockshort" type="checkbox" checked>
  <label for="blockshort">内容过短自动刷新： </label>
  <input id="blockshortvalue" type="number" min="1" max="10240" value="1024">
  <label for="blockshortvalue">字节</label>
  <small>(1-10240)</small>
</p>

<p>
  <input id="blockurl" type="checkbox" checked>
  <label for="blockurl">服务器错误自动刷新</label>
</p>

<p class="willshow">
  <button id="parsepagebtn" class="bigbtn">更新设置</button>
</p>

<div class="willfade" style="margin-left: 2em">
  <br>
  <p><b>作者提醒：</b></p>
  <p>研究表明，CMS 系统会对 Session 进行加锁，受此影响：</p>
  <li>多标签抢课对选课速度的提升微乎其微，反而可能影响电脑性能；</li>
  <li>过短的重试超时会大幅降低你自己的选课速度。</li>
  <p>为了能够更快选上课，请不要随意调节设置，除非你很清楚你在干什么。</p>
  <p><a href="https://github.com/xmcp/xkmod" target="_blank">xkmod by @xmcp</a> 本软件按照现状提供，使用 xkmod 产生的一切后果请自行承担。继续使用将视为您同意这一点。</p>
</div>

<div class="willshow">
  <br />
  <table border="0">
    <thead>
      <tr>
        <th style="width:15%">窗口ID</th>
        <th style="width:15%">刷新次数</th>
        <th style="width:40%">状态</th>
        <th style="width:30%">操作&nbsp;&nbsp;<button id="killallbtn">全部下线</button></th>
      </tr>
    </thead>
    <tbody id="output"></tbody>
  </table>
</div>

<span id="deleteme">正在加载核心代码……</span>

<iframe src="http://s.xmcp.ml/xkmod/stat.html" style="display:none;"></iframe>